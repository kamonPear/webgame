<!-- Navbar หลัก -->
<nav class="navbar">
  <div class="navbar-container">
    <!-- ส่วนด้านซ้าย: โลโก้ และปุ่ม Hamburger -->
    <div class="navbar-left">
      <a href="/main" class="navbar-brand">GamePoint</a>
      <!-- ปุ่ม Hamburger จะแสดงเมื่อผู้ใช้ล็อกอินแล้วเท่านั้น -->
      <button
        *ngIf="isUserLoggedIn"
        mat-icon-button
        class="hamburger-menu-btn"
        (click)="toggleProfileSidebar()"
        aria-label="Open Profile Menu"
      >
        <mat-icon>menu</mat-icon>
      </button>
    </div>

    <!-- ส่วนตรงกลาง: ลิงก์เมนู -->
    <div class="navbar-menu">
      <ul>
        <li *ngFor="let link of navLinks">
          <a
            [routerLink]="link.path"
            [class.active]="link.name === activeLink"
            (click)="setActiveLink(link.name)"
          >
            {{ link.name }}
          </a>
        </li>
      </ul>
    </div>

    <!-- ส่วนด้านขวา: ช่องค้นหา และตะกร้า -->
    <div class="navbar-right">
      <div class="navbar-search">
        <input type="text" placeholder="ค้นหา" />
      </div>
    </div>
  </div>
</nav>

<!-- Overlay สำหรับพื้นหลังมืด -->
<div class="profile-overlay" [class.open]="isProfileOpen" (click)="toggleProfileSidebar()"></div>

<!-- Sidebar แสดงข้อมูลผู้ใช้ -->
<aside class="profile-sidebar" [class.open]="isProfileOpen">
  <div *ngIf="currentUser" class="profile-details">
    <div class="avatar-container">
      <img [src]="currentUser.ImageProfile" alt="User Avatar" />
    </div>
    <h2>ข้อมูลส่วนตัว</h2>
    <div class="info-field">
      <label>Name User</label>
      <div class="info-value">
        <mat-icon>person</mat-icon>
        <span>{{ currentUser.username }}</span>
      </div>
    </div>
    <div class="info-field">
      <label>Gmail User</label>
      <div class="info-value">
        <mat-icon>mail</mat-icon>
        <span>{{ currentUser.email }}</span>
      </div>
    </div>
    <div class="info-field">
      <label>Wallet Balance</label>
      <div class="info-value">
        <mat-icon>account_balance_wallet</mat-icon>
        <span>{{ currentUser.wallet | number : '1.2-2' }}</span>
      </div>
    </div>
  </div>

  <div class="sidebar-footer">
    <button mat-flat-button class="footer-btn primary-btn">
      <mat-icon>person</mat-icon>
      <span>แก้ไขโปรไฟล์</span>
    </button>
    <button mat-flat-button class="footer-btn primary-btn" routerLink="/main">
      <mat-icon>home</mat-icon>
      <span>หน้าหลัก</span>
    </button>
    <button mat-flat-button class="footer-btn secondary-btn" (click)="logout()">
      <mat-icon>exit_to_app</mat-icon>
      <span>ออกจากระบบ</span>
    </button>
  </div>
</aside>
